{% extends 'base.html.twig' %}

{% block title %}Worlds{% endblock %}

{% block body %}
<div class="world-index-wrapper text-light">
    <div class="container text-center">
        <h1 class="mb-4 fw-bold">World</h1>

        <a href="{{ path('app_world_create') }}" class="btn-green mb-5">
            + Create a new World
        </a>

        {% if userWorlds is empty %}
            <p class="mt-5">You don’t have any worlds yet. Create your first one!</p>
        {% else %}
            <div class="row justify-content-center g-4">
                {% for wur in userWorlds %}
                    {% set world = wur.world %}
                    <div class="col-md-3">
                        <!-- Le clic sur la carte sélectionne le monde -->
                        <a href="{{ path('app_world_select', { id: world.id }) }}" class="world-link text-decoration-none text-light">
                            <div class="world-card p-3 text-start h-100">
                                <div class="world-image mb-3">
                                    <img src="{{ asset(world.image ? 'uploads/world_images/' ~ world.image : 'uploads/world_images/default.png') }}"
                                         alt="{{ world.name }}" class="img-fluid rounded">
                                </div>
                                <h5 class="fw-bold mb-1">{{ world.name }}</h5>
                                <p class="small mb-0">
                                    {{ world.description|default('No description available.') }}
                                </p>
                            </div>
                        </a>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}
